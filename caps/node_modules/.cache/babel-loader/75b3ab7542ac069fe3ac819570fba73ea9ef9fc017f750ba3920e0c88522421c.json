{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\user\\\\Desktop\\\\\\uCEA1\\uC2A4\\uD1A4 \\uB514\\uC790\\uC778\\\\caps\\\\src\\\\LiaPage.js\",\n  _s = $RefreshSig$();\n// LiaPage.js\nimport { useState } from 'react';\nimport './LiaPage.css';\nimport { GoogleOAuthProvider, GoogleLogin } from '@react-oauth/google';\nimport { jwtDecode } from \"jwt-decode\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction LiaPage() {\n  _s();\n  // 감정 분석\n  const [showAnalysis, setShowAnalysis] = useState(false);\n  const [inputText, setInputText] = useState('');\n  const [translatedText, setTranslatedText] = useState('');\n  const [topEmotions, setTopEmotions] = useState([]);\n\n  // 로그인\n  const [userInfo, setUserInfo] = useState(null);\n  const handleTestClick = () => {\n    setShowAnalysis(true);\n  };\n  const handleAnalyze = async () => {\n    try {\n      const response = await fetch('http://localhost:5000/api/emotion_analyze', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          text: inputText\n        })\n      });\n      const data = await response.json();\n      setTranslatedText(data.translated_text);\n      setTopEmotions(data.top_emotions);\n    } catch (error) {\n      console.error('감정 분석 오류:', error);\n      setTranslatedText('');\n      setTopEmotions([{\n        label: '서버 오류',\n        probability: 0\n      }]);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(GoogleOAuthProvider, {\n    clientId: \"829026060536-f7dpc16930esthgnn97soleggvmv3o16.apps.googleusercontent.com\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          textAlign: 'center',\n          marginTop: '10vh'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Welcome to the LIA page!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"This is the second screen.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"button-container\",\n          children: !userInfo ? /*#__PURE__*/_jsxDEV(GoogleLogin, {\n            onSuccess: credentialResponse => {\n              const decoded = jwtDecode(credentialResponse.credential);\n              setUserInfo(decoded);\n              console.log('로그인 성공:', decoded);\n            },\n            onError: () => {\n              console.log('로그인 실패');\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 13\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginTop: '1rem'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: [\"\\uD658\\uC601\\uD569\\uB2C8\\uB2E4, \", userInfo.name, \"\\uB2D8!\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 60,\n                columnNumber: 18\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 60,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n              src: userInfo.picture,\n              alt: \"\\uD504\\uB85C\\uD544\",\n              style: {\n                borderRadius: '50%',\n                width: '50px'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 61,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"button-container\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"button\",\n          onClick: handleTestClick,\n          children: \"\\uAC10\\uC815 \\uBD84\\uC11D \\uD14C\\uC2A4\\uD2B8\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this), showAnalysis && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"analysis-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n          className: \"input-text\",\n          placeholder: \"\\uBD84\\uC11D\\uD560 \\uBB38\\uC7A5\\uC744 \\uC785\\uB825\\uD558\\uC138\\uC694\",\n          value: inputText,\n          onChange: e => setInputText(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"button\",\n          onClick: handleAnalyze,\n          children: \"\\uBD84\\uC11D\\uD558\\uAE30\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 13\n        }, this), translatedText && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"result-text\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"\\uBC88\\uC5ED\\uB41C \\uBB38\\uC7A5:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 83,\n              columnNumber: 20\n            }, this), \" \", translatedText]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"\\uC608\\uCE21\\uB41C \\uAC10\\uC815 TOP5:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 84,\n              columnNumber: 20\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n            children: topEmotions.map((emotion, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n              children: [index + 1, \". \", emotion.label, \" (\", (emotion.probability * 100).toFixed(2), \"%)\"]\n            }, index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 87,\n              columnNumber: 21\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 5\n  }, this);\n}\n_s(LiaPage, \"38hTpTxacONZYvPSI55k/nzJ5TE=\");\n_c = LiaPage;\nexport default LiaPage;\nvar _c;\n$RefreshReg$(_c, \"LiaPage\");","map":{"version":3,"names":["useState","GoogleOAuthProvider","GoogleLogin","jwtDecode","jsxDEV","_jsxDEV","LiaPage","_s","showAnalysis","setShowAnalysis","inputText","setInputText","translatedText","setTranslatedText","topEmotions","setTopEmotions","userInfo","setUserInfo","handleTestClick","handleAnalyze","response","fetch","method","headers","body","JSON","stringify","text","data","json","translated_text","top_emotions","error","console","label","probability","clientId","children","style","textAlign","marginTop","fileName","_jsxFileName","lineNumber","columnNumber","className","onSuccess","credentialResponse","decoded","credential","log","onError","name","src","picture","alt","borderRadius","width","onClick","placeholder","value","onChange","e","target","map","emotion","index","toFixed","_c","$RefreshReg$"],"sources":["C:/Users/user/Desktop/캡스톤 디자인/caps/src/LiaPage.js"],"sourcesContent":["// LiaPage.js\r\nimport { useState } from 'react';\r\nimport './LiaPage.css';\r\nimport { GoogleOAuthProvider, GoogleLogin } from '@react-oauth/google';\r\nimport { jwtDecode } from \"jwt-decode\";\r\n\r\nfunction LiaPage() {\r\n  // 감정 분석\r\n  const [showAnalysis, setShowAnalysis] = useState(false);\r\n  const [inputText, setInputText] = useState('');\r\n  const [translatedText, setTranslatedText] = useState('');\r\n  const [topEmotions, setTopEmotions] = useState([]);\r\n\r\n  // 로그인\r\n  const [userInfo, setUserInfo] = useState(null);\r\n\r\n  const handleTestClick = () => {\r\n    setShowAnalysis(true);\r\n  };\r\n\r\n  const handleAnalyze = async () => {\r\n    try {\r\n      const response = await fetch('http://localhost:5000/api/emotion_analyze', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({ text: inputText }),\r\n      });\r\n\r\n      const data = await response.json();\r\n      setTranslatedText(data.translated_text);\r\n      setTopEmotions(data.top_emotions);\r\n    } catch (error) {\r\n      console.error('감정 분석 오류:', error);\r\n      setTranslatedText('');\r\n      setTopEmotions([{ label: '서버 오류', probability: 0 }]);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <GoogleOAuthProvider clientId=\"829026060536-f7dpc16930esthgnn97soleggvmv3o16.apps.googleusercontent.com\">\r\n      <div>\r\n        <div style={{ textAlign: 'center', marginTop: '10vh' }}>\r\n          <h1>Welcome to the LIA page!</h1>\r\n          <p>This is the second screen.</p>\r\n\r\n          <div className=\"button-container\">\r\n          {!userInfo ? (\r\n            <GoogleLogin\r\n              onSuccess={(credentialResponse) => {\r\n                const decoded = jwtDecode(credentialResponse.credential);\r\n                setUserInfo(decoded);\r\n                console.log('로그인 성공:', decoded);\r\n              }}\r\n              onError={() => {\r\n                console.log('로그인 실패');\r\n              }}\r\n            />\r\n          ) : (\r\n            <div style={{ marginTop: '1rem' }}>\r\n              <p><strong>환영합니다, {userInfo.name}님!</strong></p>\r\n              <img src={userInfo.picture} alt=\"프로필\" style={{ borderRadius: '50%', width: '50px' }} />\r\n            </div>\r\n          )}\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"button-container\">\r\n          <button className=\"button\" onClick={handleTestClick}>감정 분석 테스트</button>\r\n        </div>\r\n\r\n        {showAnalysis && (\r\n          <div className=\"analysis-container\">\r\n            <textarea\r\n              className=\"input-text\"\r\n              placeholder=\"분석할 문장을 입력하세요\"\r\n              value={inputText}\r\n              onChange={(e) => setInputText(e.target.value)}\r\n            />\r\n            <button className=\"button\" onClick={handleAnalyze}>분석하기</button>\r\n\r\n            {translatedText && (\r\n              <div className=\"result-text\">\r\n                <p><strong>번역된 문장:</strong> {translatedText}</p>\r\n                <p><strong>예측된 감정 TOP5:</strong></p>\r\n                <ul>\r\n                  {topEmotions.map((emotion, index) => (\r\n                    <li key={index}>\r\n                      {index + 1}. {emotion.label} ({(emotion.probability * 100).toFixed(2)}%)\r\n                    </li>\r\n                  ))}\r\n                </ul>\r\n              </div>\r\n            )}\r\n          </div>\r\n        )}\r\n      </div>\r\n    </GoogleOAuthProvider>\r\n  );\r\n}\r\n\r\nexport default LiaPage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}